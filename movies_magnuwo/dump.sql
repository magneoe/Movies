;              
CREATE USER IF NOT EXISTS SA SALT '65946a3d2720a050' HASH 'a62816ce846ef8ba6bfb55ce4703759c6529334a60968f9f5d6cb57848e9a7e3' ADMIN;            
CREATE SEQUENCE PUBLIC.HIBERNATE_SEQUENCE START WITH 284;      
CREATE CACHED TABLE PUBLIC.ACTOR(
    ID BIGINT NOT NULL,
    NAME VARCHAR(255)
);             
ALTER TABLE PUBLIC.ACTOR ADD CONSTRAINT PUBLIC.CONSTRAINT_3 PRIMARY KEY(ID);   
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.ACTOR;    
INSERT INTO PUBLIC.ACTOR(ID, NAME) VALUES
(4, 'Samuel Jackson'),
(9, 'Eddie Muprpy'),
(13, 'Uma Thurman');     
CREATE CACHED TABLE PUBLIC.COMMENT(
    ID BIGINT NOT NULL,
    COMMENT VARCHAR(255),
    CREATED TIMESTAMP,
    TITLE VARCHAR(255),
    AUTHOR_ID BIGINT NOT NULL
);          
ALTER TABLE PUBLIC.COMMENT ADD CONSTRAINT PUBLIC.CONSTRAINT_6 PRIMARY KEY(ID); 
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.COMMENT;  
INSERT INTO PUBLIC.COMMENT(ID, COMMENT, CREATED, TITLE, AUTHOR_ID) VALUES
(18, '', TIMESTAMP '2018-09-24 13:51:02.933', 'Decent movie', 1),
(24, 'test', TIMESTAMP '2018-09-25 13:15:58.164', 'Tet', 1);       
CREATE CACHED TABLE PUBLIC.GENRE(
    ID BIGINT NOT NULL,
    NAME VARCHAR(255)
);             
ALTER TABLE PUBLIC.GENRE ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);   
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.GENRE;    
INSERT INTO PUBLIC.GENRE(ID, NAME) VALUES
(5, 'Action'),
(6, 'Horror'),
(10, 'Comedy');        
CREATE CACHED TABLE PUBLIC.MOVIE(
    ID BIGINT NOT NULL,
    AVERAGE_RATING DOUBLE NOT NULL,
    CONTENT_RATING VARCHAR(255),
    CREATED DATE,
    DURATION VARCHAR(255),
    IMDB_RATING VARCHAR(255),
    ORGINAL_TITLE VARCHAR(255),
    PLOT VARCHAR(255),
    POSTER_URL VARCHAR(255),
    RELEASE_DATE DATE,
    STORY_LINE VARCHAR(255),
    TITLE VARCHAR(255),
    YEAR VARCHAR(255)
);             
ALTER TABLE PUBLIC.MOVIE ADD CONSTRAINT PUBLIC.CONSTRAINT_46 PRIMARY KEY(ID);  
-- 11 +/- SELECT COUNT(*) FROM PUBLIC.MOVIE;   
INSERT INTO PUBLIC.MOVIE(ID, AVERAGE_RATING, CONTENT_RATING, CREATED, DURATION, IMDB_RATING, ORGINAL_TITLE, PLOT, POSTER_URL, RELEASE_DATE, STORY_LINE, TITLE, YEAR) VALUES
(3, 10.0, NULL, DATE '2018-09-24', '120', NULL, NULL, 'Everyone kills', 'https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzViMjE3YzI5MjljXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SY1000_CR0,0,686,1000_AL_.jpg', DATE '1994-10-21', NULL, 'Pulp fiction', NULL),
(8, 5.0, NULL, DATE '2018-09-24', '90', NULL, NULL, 'Very funny', 'https://m.media-amazon.com/images/M/MV5BNGZlNjdlZmMtYTg0MC00MmZkLWIyNDktYmNlOWYzMTkzYWQ1XkEyXkFqcGdeQXVyNDk3NzU2MTQ@._V1_SY1000_CR0,0,655,1000_AL_.jpg', DATE '1988-10-21', NULL, 'Coming to America', NULL),
(12, 8.0, NULL, DATE '2018-09-24', '180', NULL, NULL, 'Very funny', 'https://m.media-amazon.com/images/M/MV5BNzM3NDFhYTAtYmU5Mi00NGRmLTljYjgtMDkyODQ4MjNkMGY2XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg', DATE '2003-10-21', NULL, 'Kill Bill', NULL),
(17, 9.0, NULL, DATE '1988-07-04', '144', '', '', 'Decepticon tries to destroy the world. The autobots and humans attempts to stop them.', 'https://m.media-amazon.com/images/M/MV5BNDg1NTU2OWEtM2UzYi00ZWRmLWEwMTktZWNjYWQ1NWM1OThjXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SY1000_CR0,0,674,1000_AL_.jpg', DATE '1999-10-15', '', 'Title here', '1995'),
(20, 8.0, NULL, DATE '1988-07-04', '144', '', '', 'PLot', '', DATE '1999-10-15', '', 'Title here', '1995'),
(23, 10.0, NULL, DATE '1999-07-05', '144', '8.0', 'Test', 'PLot', 'https://m.media-amazon.com/images/M/MV5BNDg1NTU2OWEtM2UzYi00ZWRmLWEwMTktZWNjYWQ1NWM1OThjXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SY1000_CR0,0,674,1000_AL_.jpg', DATE '1988-02-01', '', 'Title here', '1995'),
(26, 0.0, NULL, DATE '1999-07-05', '', '8.0', '', 'PLot', '', DATE '1988-02-01', '', 'Title here', '1995'),
(124, 0.0, NULL, DATE '1999-07-05', '', '', '', 'PLot', '', DATE '1988-02-01', '', 'Title here', '1995'),
(156, 7.0, NULL, DATE '1999-07-05', '', '', '', 'PLot', '', DATE '1988-02-01', '', 'Title here', '1995'),
(188, 0.0, NULL, DATE '1999-07-05', '', '', '', 'PLot2', '', DATE '1988-02-01', '', 'Title here', '1995'),
(220, 0.0, NULL, DATE '1999-07-05', '', '', '', 'PLot3', '', DATE '1988-02-01', '', 'Title here', '1995');
CREATE CACHED TABLE PUBLIC.MOVIE_ACTORS(
    MOVIE_ID BIGINT NOT NULL,
    ACTORS_ID BIGINT NOT NULL
);        
-- 13 +/- SELECT COUNT(*) FROM PUBLIC.MOVIE_ACTORS;            
INSERT INTO PUBLIC.MOVIE_ACTORS(MOVIE_ID, ACTORS_ID) VALUES
(3, 4),
(8, 9),
(12, 13),
(20, 9),
(23, 9),
(26, 9),
(124, 9),
(124, 13),
(156, 9),
(156, 4),
(188, 9),
(188, 13),
(220, 4);       
CREATE CACHED TABLE PUBLIC.MOVIE_COMMENTS(
    MOVIE_ID BIGINT NOT NULL,
    COMMENTS_ID BIGINT NOT NULL
);    
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.MOVIE_COMMENTS;           
INSERT INTO PUBLIC.MOVIE_COMMENTS(MOVIE_ID, COMMENTS_ID) VALUES
(17, 18),
(23, 24);            
CREATE CACHED TABLE PUBLIC.MOVIE_GENRES(
    MOVIE_ID BIGINT NOT NULL,
    GENRES_ID BIGINT NOT NULL
);        
-- 12 +/- SELECT COUNT(*) FROM PUBLIC.MOVIE_GENRES;            
INSERT INTO PUBLIC.MOVIE_GENRES(MOVIE_ID, GENRES_ID) VALUES
(3, 5),
(3, 6),
(8, 10),
(12, 5),
(12, 10),
(20, 6),
(23, 6),
(26, 5),
(124, 5),
(156, 5),
(188, 6),
(220, 5);     
CREATE CACHED TABLE PUBLIC.RATING(
    ID BIGINT NOT NULL,
    RATING INTEGER NOT NULL,
    AUTHOR_ID BIGINT NOT NULL,
    MOVIE_ID BIGINT
);  
ALTER TABLE PUBLIC.RATING ADD CONSTRAINT PUBLIC.CONSTRAINT_8 PRIMARY KEY(ID);  
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.RATING;   
INSERT INTO PUBLIC.RATING(ID, RATING, AUTHOR_ID, MOVIE_ID) VALUES
(7, 10, 1, 3),
(11, 5, 1, 8),
(14, 8, 1, 12),
(21, 8, 1, 20),
(22, 9, 1, 17),
(25, 10, 1, 23),
(157, 7, 1, 156);             
CREATE CACHED TABLE PUBLIC.ROLE(
    ID BIGINT NOT NULL,
    ACCESS_LEVEL INTEGER,
    ROLE VARCHAR(255)
);    
ALTER TABLE PUBLIC.ROLE ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(ID);    
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.ROLE;     
INSERT INTO PUBLIC.ROLE(ID, ACCESS_LEVEL, ROLE) VALUES
(2, 1, 'ROLE_USER'),
(3, 2, 'ROLE_ADMIN');              
CREATE CACHED TABLE PUBLIC.USER(
    ID BIGINT NOT NULL,
    ACTIVE BOOLEAN,
    CREATED TIMESTAMP,
    EMAIL VARCHAR(255),
    FAILED_LOGIN_ATTEMPTS INTEGER,
    LASTNAME VARCHAR(255),
    NAME VARCHAR(255),
    PASSWORD VARCHAR(255)
);  
ALTER TABLE PUBLIC.USER ADD CONSTRAINT PUBLIC.CONSTRAINT_27 PRIMARY KEY(ID);   
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.USER;     
INSERT INTO PUBLIC.USER(ID, ACTIVE, CREATED, EMAIL, FAILED_LOGIN_ATTEMPTS, LASTNAME, NAME, PASSWORD) VALUES
(1, TRUE, TIMESTAMP '2018-09-24 11:10:21.51', 'magneoe@gmail.com', 0, STRINGDECODE('\u00d8steng'), 'Magnus', '$2a$11$favJkSV9JbmxuDkp/RX/Z.zQdCdi.x5GjZJbE1cr1DVgfYXEX5p/S'),
(15, TRUE, TIMESTAMP '2018-09-24 11:12:18.403', 'test@supertest.com', 0, STRINGDECODE('\u00d8steng'), 'Magnus', '$2a$11$ruACWIR2VI5cfqpmu6NJtuWcCTYVvLilllt.KjNBSC5rOgN6FBqF2');     
CREATE CACHED TABLE PUBLIC.USER_ROLES(
    USER_ID BIGINT NOT NULL,
    ROLES_ID BIGINT NOT NULL
);            
ALTER TABLE PUBLIC.USER_ROLES ADD CONSTRAINT PUBLIC.CONSTRAINT_C PRIMARY KEY(USER_ID, ROLES_ID);               
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.USER_ROLES;               
INSERT INTO PUBLIC.USER_ROLES(USER_ID, ROLES_ID) VALUES
(1, 2),
(1, 3),
(15, 2);               
ALTER TABLE PUBLIC.ROLE ADD CONSTRAINT PUBLIC.UK_BJXN5II7V7YGWX39ET0WAWU0Q UNIQUE(ROLE);       
ALTER TABLE PUBLIC.USER ADD CONSTRAINT PUBLIC.UK_OB8KQYQQGMEFL0ACO34AKDTPE UNIQUE(EMAIL);      
ALTER TABLE PUBLIC.ROLE ADD CONSTRAINT PUBLIC.UK_LMGSCD5JL5G0OS17XVF6IHN83 UNIQUE(ACCESS_LEVEL);               
ALTER TABLE PUBLIC.MOVIE_COMMENTS ADD CONSTRAINT PUBLIC.UK_HUPLBYXORAHF7XL5B0JIT2XB UNIQUE(COMMENTS_ID);       
ALTER TABLE PUBLIC.MOVIE_GENRES ADD CONSTRAINT PUBLIC.FKS2XL3SIRBON75MJCONGWHRBI3 FOREIGN KEY(MOVIE_ID) REFERENCES PUBLIC.MOVIE(ID) NOCHECK;   
ALTER TABLE PUBLIC.MOVIE_ACTORS ADD CONSTRAINT PUBLIC.FKOXMXJ61V0A9QS12VBOO8RXPNO FOREIGN KEY(ACTORS_ID) REFERENCES PUBLIC.ACTOR(ID) NOCHECK;  
ALTER TABLE PUBLIC.RATING ADD CONSTRAINT PUBLIC.FKLMWUH7GVB6CH5RYQ1BWGADBKN FOREIGN KEY(AUTHOR_ID) REFERENCES PUBLIC.USER(ID) NOCHECK;         
ALTER TABLE PUBLIC.USER_ROLES ADD CONSTRAINT PUBLIC.FK55ITPPKW3I07DO3H7QOCLQD4K FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USER(ID) NOCHECK;       
ALTER TABLE PUBLIC.COMMENT ADD CONSTRAINT PUBLIC.FKH1GTV412U19WCBX22177XBKJP FOREIGN KEY(AUTHOR_ID) REFERENCES PUBLIC.USER(ID) NOCHECK;        
ALTER TABLE PUBLIC.USER_ROLES ADD CONSTRAINT PUBLIC.FKJ9553ASS9UCTJRMH0GKQSMV0D FOREIGN KEY(ROLES_ID) REFERENCES PUBLIC.ROLE(ID) NOCHECK;      
ALTER TABLE PUBLIC.MOVIE_GENRES ADD CONSTRAINT PUBLIC.FKI8GL10TAQ0YVV0AQNUXEAL5X0 FOREIGN KEY(GENRES_ID) REFERENCES PUBLIC.GENRE(ID) NOCHECK;  
ALTER TABLE PUBLIC.MOVIE_COMMENTS ADD CONSTRAINT PUBLIC.FK96SFS80GA99A5D3LV2KRYA48G FOREIGN KEY(MOVIE_ID) REFERENCES PUBLIC.MOVIE(ID) NOCHECK; 
ALTER TABLE PUBLIC.MOVIE_ACTORS ADD CONSTRAINT PUBLIC.FKBSTO8YEF4BTOKHVEIHMKG8876 FOREIGN KEY(MOVIE_ID) REFERENCES PUBLIC.MOVIE(ID) NOCHECK;   
ALTER TABLE PUBLIC.MOVIE_COMMENTS ADD CONSTRAINT PUBLIC.FKMO0TNSV3I3QUS6VW9IUOVB44Q FOREIGN KEY(COMMENTS_ID) REFERENCES PUBLIC.COMMENT(ID) NOCHECK;            
ALTER TABLE PUBLIC.RATING ADD CONSTRAINT PUBLIC.FKLQSVMDLH3EP1BOO7IN23XE86Y FOREIGN KEY(MOVIE_ID) REFERENCES PUBLIC.MOVIE(ID) NOCHECK;         
